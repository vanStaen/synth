(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],[,,,,,,,,,,,,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),c=n(5),r=n.n(c),o=(n(12),n(2)),s=n(6),u=n(7),l=n(3),m={C:[16.35,32.7,65.41,130.81,261.63,523.25,1046.5,2093],Db:[17.32,34.65,69.3,138.59,277.18,554.37,1108.73,2217.46],D:[18.35,36.71,73.42,146.83,293.66,587.33,1174.66,2349.32],Eb:[19.45,38.89,77.78,155.56,311.13,622.25,1244.51,2489.02],E:[20.6,41.2,82.41,164.81,329.63,659.26,1318.51,2637.02],F:[21.83,43.65,87.31,174.61,349.23,698.46,1396.91,2793.83],Gb:[23.12,46.25,92.5,185,369.99,739.99,1479.98,2959.96],G:[24.5,49,98,196,392,783.99,1567.98,3135.96],Ab:[25.96,51.91,103.83,207.65,415.3,830.61,1661.22,3322.44],A:[27.5,55,110,220,440,880,1760,3520],Bb:[29.14,58.27,116.54,233.08,466.16,932.33,1864.66,3729.31],B:[30.87,61.74,123.47,246.94,493.88,987.77,1975.53,3951.07]};function b(e,t){return m[e][t-1]}var d=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"];var f=function(e,t){var n=t.freq,a=t.name,i=t.audioContext,c=(t.primaryFilter,t.sineGain),r=t.squareGain,o=t.noiseGain,s=i.createGain();s.gain.setValueAtTime(0,0),s.connect(c);var u=i.createGain();u.gain.setValueAtTime(0,0),u.connect(r);var l=i.createGain();l.gain.setValueAtTime(0,0),l.connect(o);var m=i.createOscillator();m.frequency.setValueAtTime(n,0),m.type="sine",m.connect(s),m.start();var b=i.createOscillator();b.frequency.setValueAtTime(n,0),b.type="square",b.connect(u),b.start();for(var d=i.createBuffer(1,1*i.sampleRate,i.sampleRate),f=d.getChannelData(0),v=0;v<d.length;v++)f[v]=2*Math.random()-1;i.resume();var j=i.createBufferSource();j.buffer=d,j.connect(l),j.loop=!0,j.start(),e.addNote(n,a,s,m,u,b,l,j)},v=new(function(){function e(){Object(s.a)(this,e),this.notes=[],Object(l.b)(this,{notes:l.c,addNote:l.a})}return Object(u.a)(e,[{key:"createAllNotes",value:function(e){!function(e,t){var n=t.audioContext,a=t.primaryFilter,i=t.sineGain,c=t.squareGain,r=t.noiseGain;d.forEach((function(t){var o;for(o=1;o<9;o++)f(e,{freq:b(t,o),name:"".concat(t).concat(o),audioContext:n,primaryFilter:a,sineGain:i,squareGain:c,noiseGain:r})}))}(this,e)}},{key:"addNote",value:function(e,t,n,a,i,c,r,o){var s={freq:e,name:t,sineNoteGain:n,sineOsc:a,squareNoteGain:i,squareOsc:c,noiseNoteGain:r,noise:o};this.notes.push(s)}}]),e}()),j=(n(14),{a:"C",w:"Db",s:"D",e:"Eb",d:"E",f:"F",t:"Gb",g:"G",z:"Ab",h:"A",u:"Bb",j:"B"});function O(e,t){var n=document.getElementById(j[e]);j[e].includes("b")?null===n||void 0===n||n.classList.toggle("black__pressed",t):null===n||void 0===n||n.classList.toggle("white__pressed",t)}var p=n(1),N=[{note:"C",className:"white e"},{note:"Db",className:"black ds"},{note:"D",className:"white d"},{note:"Eb",className:"black cs"},{note:"E",className:"white c"},{note:"F",className:"white b"},{note:"Gb",className:"black as"},{note:"G",className:"white a"},{note:"Ab",className:"black gs"},{note:"A",className:"white g"},{note:"Bb",className:"black fs"},{note:"B",className:"white f"}],g=function(e){var t=e.playNoteHandler,n=e.stopNoteHandler,i=e.octave,c=Object(a.useState)(window.innerWidth),r=Object(o.a)(c,2),s=(r[0],r[1]),u=function(){s(window.innerWidth)};return Object(a.useEffect)((function(){return window.addEventListener("resize",u),function(){window.removeEventListener("resize",u)}}),[s]),function(e){var t=e.playNoteHandler,n=e.stopNoteHandler,i=e.octave;Object(a.useEffect)((function(){var e=function(e){var n=e.key.toLowerCase();n in j&&(O(n,!0),t(b(j[n],i)))},a=function(e){var t=e.key.toLowerCase();t in j&&(O(t,!1),n(b(j[t],i)))};return document.addEventListener("keydown",e),document.addEventListener("keyup",a),function(){document.removeEventListener("keydown",e),document.removeEventListener("keyup",a)}}))}(e),Object(p.jsx)("div",{children:Object(p.jsx)("ul",{className:"set",children:N.map((function(e){return Object(p.jsx)("li",{id:e.note,className:e.className,onMouseDown:function(){return t(b(e.note,i))},onMouseUp:function(){return n(b(e.note,i))},onMouseLeave:function(){return n(b(e.note,i))}},e.note)}))})})};var h=n.p+"static/media/knob.8deadf84.svg",y=(n(16),function(e){var t=e.value,n=e.min,i=e.max,c=e.multiply,r=e.valueSetter,s=e.knobName,u=e.unit,l=Object(a.useState)(!1),m=Object(o.a)(l,2),b=m[0],d=m[1],f=Object(a.useState)(t),v=Object(o.a)(f,2),j=v[0],O=v[1],N=Object(a.useState)(0),g=Object(o.a)(N,2),y=g[0],G=g[1],x=Object(a.useState)(!1),k=Object(o.a)(x,2),A=k[0],T=k[1];Object(a.useEffect)((function(){document.getElementById(s).setAttribute("draggable","false"),O(j*c);var e=function(e,t,n,a,i){return e*i/(n-t)+a}(j,n,i,-90,310);document.getElementById(s).style.setProperty("transform","rotate(".concat(e,"deg)"))}),[s,O,c,n,i]);var w=Object(a.useCallback)((function(e){G(e.clientY),T(!0)}),[G,T]),E=Object(a.useCallback)((function(){G(0),T(!1)}),[G,T]),C=Object(a.useCallback)((function(){A||G(0)}),[A,G]),q=Object(a.useCallback)((function(e){if(0!==y&&A){var t=e.clientY,a=y-t+50;a>100&&(a=100),a<0&&(a=0);var o=3.1*a-90,u=(i-n)*(o- -90)/310;document.getElementById(s).style.setProperty("transform","rotate(".concat(o,"deg)")),r(u),O(Math.round(u*c))}}),[y,A,n,i,c,s,r]);return Object(p.jsxs)("div",{className:"knob",onMouseEnter:function(){return d(!0)},onMouseLeave:function(){return d(!1)},children:[Object(p.jsx)("img",{src:h,id:s,className:"knob__image",onMouseDown:w,onMouseMove:q,onMouseUp:E,onMouseLeave:C}),b?Object(p.jsxs)("span",{className:"knob__value",children:[j,u]}):1===s.length?Object(p.jsx)("span",{className:"knob__specialchar",children:s}):Object(p.jsx)("span",{className:"knob__name",children:s})]})}),G=(n(17),function(){var e=Object(a.useState)(5),t=Object(o.a)(e,2),n=t[0],i=(t[1],Object(a.useState)(.05)),c=Object(o.a)(i,2),r=c[0],s=c[1],u=Object(a.useState)(1),l=Object(o.a)(u,2),m=l[0],b=l[1],d=Object(a.useState)(1),f=Object(o.a)(d,2),j=f[0],O=f[1],N=Object(a.useState)(1),h=Object(o.a)(N,2),G=h[0],x=h[1],k=Object(a.useState)(5e3),A=Object(o.a)(k,2),T=A[0],w=A[1],E=Object(a.useMemo)((function(){var e=new AudioContext,t=e.createGain();t.gain.setValueAtTime(r,0),t.connect(e.destination);var n=e.createBiquadFilter();n.type="lowpass",n.frequency.value=T,n.connect(t);var a=e.createGain();a.gain.setValueAtTime(j,0),a.connect(t);var i=e.createGain();i.gain.setValueAtTime(G,0),i.connect(t);var c=e.createGain();return c.gain.setValueAtTime(m,0),c.connect(t),v.createAllNotes({audioContext:e,primaryFilter:n,sineGain:a,squareGain:i,noiseGain:c}),{audioContext:e,primaryFilter:n,primaryGainControl:t}}),[]),C=E.audioContext,q=E.primaryFilter,S=E.primaryGainControl;Object(a.useEffect)((function(){q.frequency.value=Math.round(T)}),[T]),Object(a.useEffect)((function(){S.gain.setValueAtTime(r,C.currentTime)}),[r]);var V=Object(a.useCallback)((function(e){C.resume();var t=v.notes.find((function(t){return t.freq==e}));t&&(t.sineNoteGain.gain.setValueAtTime(j,C.currentTime),t.squareNoteGain.gain.setValueAtTime(G,C.currentTime),t.noiseNoteGain.gain.setValueAtTime(m,C.currentTime))}),[v.notes,C]),B=Object(a.useCallback)((function(e){var t=v.notes.find((function(t){return t.freq==e}));if(t){var n=t.sineNoteGain;n.gain.setValueAtTime(n.gain.value,C.currentTime),n.gain.exponentialRampToValueAtTime(1e-6,C.currentTime+.03);var a=t.squareNoteGain;a.gain.setValueAtTime(a.gain.value,C.currentTime),a.gain.exponentialRampToValueAtTime(1e-6,C.currentTime+.03);var i=t.noiseNoteGain;i.gain.setValueAtTime(i.gain.value,C.currentTime),i.gain.exponentialRampToValueAtTime(1e-6,C.currentTime+.03)}}),[v.notes,C]);return Object(p.jsx)("div",{className:"App",children:Object(p.jsxs)("header",{className:"App-header",children:[Object(p.jsx)("p",{children:" "}),Object(p.jsxs)("div",{children:[Object(p.jsx)(y,{value:r,valueSetter:s,knobName:"vol",min:0,max:.1,multiply:1e3,unit:"%"}),Object(p.jsx)(y,{value:m,valueSetter:b,knobName:"noise",min:.01,max:1,multiply:100,unit:"%"}),Object(p.jsx)(y,{value:j,valueSetter:O,knobName:"sin",min:.01,max:1,multiply:100,unit:"%"}),Object(p.jsx)(y,{value:G,valueSetter:x,knobName:"square",min:.01,max:1,multiply:100,unit:"%"}),Object(p.jsx)(y,{value:T,valueSetter:w,knobName:"filter",min:30,max:2e4,multiply:1,unit:"hz"})]}),Object(p.jsx)(g,{playNoteHandler:V,stopNoteHandler:B,octave:n})]})})});r.a.render(Object(p.jsx)(i.a.StrictMode,{children:Object(p.jsx)(G,{})}),document.getElementById("root"))}],[[18,1,2]]]);
//# sourceMappingURL=main.5a63aaec.chunk.js.map